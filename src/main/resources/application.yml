# ---------------------------------------------------------
# The Gradle build expands its project properties to
# replace the substitution tokens.
# ---------------------------------------------------------

# shown on the actuator /info endpoint
info:
  app:
    name: ${name}
    version: ${version}
    description: ${description}
    java:
      source: ${sourceCompatibility}
      target: ${targetCompatibility}

# changes actuator endpoints - /manage/info
management:
  context-path: "/manage"

zuul:
  routes:
    tms-api:
      sensitiveHeaders: Authorization
      path: /api/tms/**
      url: http://localhost:8089/api/v1
    translation-api:
      path: /api/translation/**
      url: http://localhost:8085/api/v1
  add-proxy-headers: true

security:
  basic:
    enabled: false

# For Okta
#tims:
#  api:
#    gateway:
#      tokenProvider: okta
#      audience: api://staging
#      checkTokenEndpointUrl: "https://smarterbalanced.oktapreview.com/oauth2/auslw2qcsmsUgzsqr0h7"

# For OpenAM
tims:
  api:
    gateway:
      tokenProvider: opeanam
      checkTokenEndpointUrl: "https://sso-deployment.sbtds.org/auth/oauth2/tokeninfo"
      permissionEndpoint: "http://localhost:8182"

spring:
  autoconfigure:
    exclude:
      - org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration
      - org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration
      - org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration
      - org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration
      - org.springframework.boot.autoconfigure.session.SessionAutoConfiguration
